<div class="container">
  <dacd-header></dacd-header>

  <div class="content">

    <div class="sideL">
      <h1>GITHUB PERFIL SEARCH</h1>

      <div class="input-user">
        <mat-form-field>
          <mat-label>GITHUB USER</mat-label>
          <textarea 
            matInput 
            placeholder="Ex. DWRP..." 
            [value]="lastUser" 
            (focus)="resetInfos()" 
            (keyup)="changeUser($event)" 
            required
          >
          </textarea>
        </mat-form-field>
        <button mat-raised-button color="primary" (click)="username?user='':''"  (click)="loadData()">SEARCH</button>
      </div>

      <div class="usererror" *ngIf="nullUser">Usuário é obrigatório!!</div>

      <dacd-favorites 
        [favs]="favs" 
        *ngIf="hasFavorites()" 
        class="favorites"
        (search)="searchFav($event)" 
        (search)="username?user='':''" 
        (remove)="removeFav($event)"
      >
      </dacd-favorites>

    </div>

    <div class="sideR" >

      <dacd-user-content 
        [userInFav]="userInFav()" 
        *ngIf="user" 
        [userData]="user" 
        (favorite)="addFav()"
      >
      </dacd-user-content>
      
      <mat-spinner *ngIf="user!==undefined && !user"></mat-spinner>

      <div *ngIf="errorLoad">Desculpe, ocorreu algum erro durante a requisição.</div>
    </div>

  </div>

  <dacd-footer></dacd-footer>
</div>
